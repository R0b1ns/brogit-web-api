/*!
  * brogit v1.20.05 (https://brogit.de/)
  * 2017-2020 Copyright (c) brogit
  * Requirements: jQuery 3
  */var boottime=(new Date).getTime(),baseOrigin=document.baseURI;baseOrigin||(baseTags=document.getElementsByTagName("base"),baseOrigin=baseTags.length?baseTags[0].href:document.URL);var client=new Client(baseOrigin=baseOrigin.substr(0,baseOrigin.lastIndexOf("/")+1))||{};function Client(t){this.origin=t,this.request={dataType:"json",url:this.origin},this.status="init",$(window).scroll(function(){$(".client-reloader").each(i)});var e=0,n=0;function i(){var t=$(this).offset().top+$(this).height();$(window).scrollTop()+$(window).height()>t&&client.loxhr_reload($(this))}this.origin!=location.origin&&(this.request.crossDomain=!0),this.xhr=function(t,i,a,s){e++,this.checkloading(),$.ajax($.extend({},this.request,{type:t,url:this.origin+i,data:a,success:function(t,e,n){s(t,a,e,n)},error:function(t,e,n){"error"!=e||n||console.error("Can't connect to "+this.url),s(t.responseJSON,a,e,t,n)},complete:function(t,e){n++,client.checkloading()}}))},this.loxhrStorage=new Array,this.loxhr=function(t,e,n,a,s){if(!s.hasClass("client-reloader")&&!this.loxhrStorage[s]){s.addClass("client-reloader"),n.limit=10,n.offset=0;this.loxhrStorage[s]={status:"ready",mode:t,route:e,data:n,callback:function(t,e,n,o){a(t,e,n,o),(lodata=client.loxhrStorage[s])?(lodata.data.offset+=lodata.data.limit,lodata.status="success"==n?"ready":"error"):console.error("Element not in storage."),$(".client-reloader").each(i)}}}this.loxhr_reload(s)},this.loxhr_reload=function(t){(data=this.loxhrStorage[t])&&"ready"==data.status&&(data.status="load",this.xhr(data.mode,data.route,data.data,data.callback))},this.checkloading=function(){e!=n&&"load"!=this.status?(this.status="load",this.loadCallback()):e==n&&(this.status="ready",this.readyCallback())},this.loadCallback=function(){$("main").append('<div class="brogit-wapi-load"><div class="sk-folding-cube"><div class="sk-cube1 sk-cube"></div><div class="sk-cube2 sk-cube"></div><div class="sk-cube4 sk-cube"></div><div class="sk-cube3 sk-cube"></div></div></div>')},this.readyCallback=function(){$(".brogit-wapi-load").fadeOut(1e3,function(){$(this).remove()})},this.ai=new ClientResponse||{},this.upload=function(t,e){if("undefined"!=typeof FormData){var n=new FormData;n.append("file",t)}$.ajax($.extend({},this.request,{type:"POST",url:this.origin+"api/file",cache:!1,contentType:!1,processData:!1,mimeType:"multipart/form-data",data:n,xhr:function(){var t=$.ajaxSettings.xhr();return t.upload&&t.upload.addEventListener("progress",e.progress,!0),t},complete:e.complete}))},this.basicauth=function(t,e,n){$.ajax($.extend({},this.request,{type:"GET",data:t,beforeSend:function(t){t.setRequestHeader("Authorization","Basic "+btoa(e))}})).done(n)};var a=new Array;this.cbadd=function(t){return"function"==typeof t?(a.push(t),!0):(console.error("'callback' is not a function"),!1)},this.cbdo=function(){for(var t=a.length-1;t>=0;t--)a[t]();this.cbQueue=new Array}}function ClientResponse(){var t,e=null,n=null,i=null,a=this,s=[],o=[],r={},l=[];this.init=function(t){(e=$('<div class="display-4 my-2 text-center response-text"></div>')).hide(),(n=$(".container-response")).append(e),i=t},this.setRoute=function(t){i=t},this.say=function(t,n,i){n=n||function(){},my_delay_long=i||1e3,e.text(t),e.fadeIn().delay(this.autodelay(t)).fadeOut(my_delay_long,n)},this.choice=function(t,n,i){n=n||function(){},my_delay_short=i||500,e.text(t),e.fadeIn().delay(my_delay_short).fadeIn(0,n)},this.addTemplate=function(t,e){e=e||function(){};var i=$($(t).html());if(i.hide(),i.hasClass("was-validated")&&i.hasClass("disable-submit")){var a=i.find(":submit");a.attr("disabled",!0),i.on("keyup",function(t,e){!1===this.checkValidity()?a.attr("disabled",!0):a.attr("disabled",!1)})}return e(i),n.append(i),i.fadeIn(),r[t]=i,i},this.removeTemplate=function(t,n,i){if(n=n||function(){},my_delay_long=i||1e3,!r[t])return!1;r[t].fadeOut(500,function(){$(this).remove(),delete r[t],e.fadeOut(my_delay_long,function(){n()})})},this.startChoice=function(t,e,n,i){if("object"==typeof n)var s=n,o=function(t){t.on("submit",function(t){t.preventDefault(),$(this).addClass("was-validated"),a.proceed($(this).serialize(),s,i)})};else o=n;this.choice(t,function(){a.addTemplate(e,o)})},this.finishChoice=function(t,e,n){this.removeTemplate(t,function(){a.say(e,n)})},this.choiceWay=function(t,e,n,i,s,r,l){l&&(t=i,e=o[o.length-1]&&o[o.length-1].statusText?o[o.length-1].statusText+". Versuchen wir es erneut":"Versuchen wir es erneut"),this.finishChoice(t,e,function(){a.startChoice(n,i,s,r)})},this.autodelay=function(t){return 50*t.length},this.proceed=function(t,e,n){var r=i;if(!r)return!1;if(e=e||{success:function(t){t.next()},failed:function(t){t.repeat()}},n=null==n||n){var l={};switch(typeof t){case"string":l=$.parseParams(t);break;case"object":l=t}$.extend(s,l)}client.xhr("post",r,t,function(t,n,i,s){o=$.merge(o,[t]),"success"==i?"function"==typeof e.success&&e.success(a,t,n):"function"==typeof e.failed&&e.failed(a,t,n)})},this.showContext=function(){console.log(s),console.log(o)},this.queue=function(t){if("function"==typeof t)return l.push(t);console.debug("Callback not callable")},this.start=function(){t=0;var e=Object.keys(r);if(!e.length)return this.call();a.removeTemplate(e.pop(),function(){a.start()})},this.previous=function(){return t--,this.call(t)},this.next=function(){return t++,this.call(t)},this.repeat=function(){return this.call(null,!0)},this.call=function(e,n){if(e=null!=e?e:t,n=null!=n&&n,l.length>=e){var i=l[e];if("function"==typeof i)return i(n)}console.debug("Callback not callable")}}function formatBytes(t,e){if(0==t)return"0 Bytes";var n=e||2,i=Math.floor(Math.log(t)/Math.log(1024));return parseFloat((t/Math.pow(1024,i)).toFixed(n))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][i]}Array.prototype.remove=function(){for(var t,e,n=arguments,i=n.length;i&&this.length;)for(t=n[--i];-1!==(e=this.indexOf(t));)this.splice(e,1);return this},Element.prototype.remove=function(){this.parentElement.removeChild(this)},NodeList.prototype.remove=HTMLCollection.prototype.remove=function(){for(var t=0,e=this.length;t<e;t++)this[t]&&this[t].parentElement&&this[t].parentElement.removeChild(this[t])},Number.prototype.formatMoney=function(t,e,n){var i=this,a=(t=isNaN(t=Math.abs(t))?2:t,e=null==e?".":e,n=null==n?",":n,i<0?"-":""),s=String(parseInt(i=Math.abs(Number(i)||0).toFixed(t))),o=(o=s.length)>3?o%3:0;return a+(o?s.substr(0,o)+n:"")+s.substr(o).replace(/(\d{3})(?=\d)/g,"$1"+n)+(t?e+Math.abs(i-s).toFixed(t).slice(2):"")},function(t){var e=/([^&=]+)=?([^&]*)/g,n=/\+/g,i=function(t){return decodeURIComponent(t.replace(n," "))};t.parseParams=function(t){for(var n,a={};n=e.exec(t);){var s=i(n[1]),o=i(n[2]);"[]"===s.substring(s.length-2)?(a[s=s.substring(0,s.length-2)]||(a[s]=[])).push(o):a[s]=o}return a}}(jQuery);